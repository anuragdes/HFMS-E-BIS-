<?xml version="1.0" encoding="UTF-8"?>
<tns:Transaction MODULE_NAME="PAYROLL" PROCESS_NAME="Allowance Specification Transaction" xmlns:tns="http://www.example.org/transactionSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.example.org/transactionSchema transactionSchema.xsd ">
<OPR ID="1" NAME="INSERT" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="14">
	 INSERT INTO ACTPAY_ALLOWANCE_SPECS_TRNS(STR_EMPLOYEE_NUMBER,NUM_ALLOWANCE_CODE,STR_CATEGORY_HEAD_CODE,NUM_AMOUNT,GNUM_SLNO,DT_EFFECTIVE_FRM,DT_EFFECTIVE_TO,GNUM_ISVALID, GNUM_SEAT_ID, GDT_ENTRY_DATE,GDT_LSTMOD_DATE,GNUM_LSTMOD_SEATID,GSTR_REMARKS,GNUM_HOSPITAL_CODE) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
	</QRY>
	</BLOCK>
</OPR>
<OPR ID="2" NAME="UPDATE" BLOCK_SIZE="2" QRY_TOT_SIZE="2" TRN_MGMT="N">
   <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="4">
	 INSERT INTO ACTPAY_ALLOW_SPECS_TRNS_LOG(STR_EMPLOYEE_NUMBER,NUM_ALLOWANCE_CODE,STR_CATEGORY_HEAD_CODE,NUM_AMOUNT,GNUM_SLNO,DT_EFFECTIVE_FRM,DT_EFFECTIVE_TO,GNUM_ISVALID, GNUM_SEAT_ID, GDT_ENTRY_DATE,GDT_LSTMOD_DATE,GNUM_LSTMOD_SEATID,GSTR_REMARKS,GNUM_HOSPITAL_CODE,NUM_STATUS_FLAG,DT_APPLICABILITY_DATE) (select STR_EMPLOYEE_NUMBER,NUM_ALLOWANCE_CODE,STR_CATEGORY_HEAD_CODE,NUM_AMOUNT,?,DT_EFFECTIVE_FRM,DT_EFFECTIVE_TO,GNUM_ISVALID, GNUM_SEAT_ID, GDT_ENTRY_DATE,GDT_LSTMOD_DATE,GNUM_LSTMOD_SEATID,GSTR_REMARKS,GNUM_HOSPITAL_CODE,NUM_STATUS_FLAG,DT_APPLICABILITY_DATE from ACTPAY_ALLOWANCE_SPECS_TRNS M where M.STR_EMPLOYEE_NUMBER=? and M.NUM_ALLOWANCE_CODE=? and M.GNUM_HOSPITAL_CODE=? )
   </QRY>
   </BLOCK>
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="11">
	 UPDATE ACTPAY_ALLOWANCE_SPECS_TRNS SET GNUM_SLNO=?,NUM_AMOUNT=?,DT_EFFECTIVE_FRM=?,DT_EFFECTIVE_TO=?,GNUM_ISVALID=?,GDT_LSTMOD_DATE=?,GNUM_LSTMOD_SEATID=?,GSTR_REMARKS=?,GNUM_HOSPITAL_CODE=? where STR_EMPLOYEE_NUMBER=? and NUM_ALLOWANCE_CODE=?
   </QRY>
   </BLOCK>
</OPR>
<OPR ID="3" NAME="DELETE" BLOCK_SIZE="2" QRY_TOT_SIZE="2" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="6">
	 INSERT INTO ACTPAY_ALLOW_SPECS_TRNS_LOG(STR_EMPLOYEE_NUMBER,NUM_ALLOWANCE_CODE,STR_CATEGORY_HEAD_CODE,NUM_AMOUNT,GNUM_SLNO,DT_EFFECTIVE_FRM,DT_EFFECTIVE_TO,GNUM_ISVALID, GNUM_SEAT_ID, GDT_ENTRY_DATE,GDT_LSTMOD_DATE,GNUM_LSTMOD_SEATID,GSTR_REMARKS,GNUM_HOSPITAL_CODE,NUM_STATUS_FLAG,DT_APPLICABILITY_DATE) (select STR_EMPLOYEE_NUMBER,NUM_ALLOWANCE_CODE,STR_CATEGORY_HEAD_CODE,NUM_AMOUNT,?,DT_EFFECTIVE_FRM,DT_EFFECTIVE_TO,'0', GNUM_SEAT_ID, GDT_ENTRY_DATE,?,?,GSTR_REMARKS,GNUM_HOSPITAL_CODE,NUM_STATUS_FLAG,DT_APPLICABILITY_DATE from ACTPAY_ALLOWANCE_SPECS_TRNS M where M.STR_EMPLOYEE_NUMBER=? and M.NUM_ALLOWANCE_CODE=? and M.GNUM_HOSPITAL_CODE=? )
     </QRY>
   </BLOCK>
   <BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
   	 <QRY ID="1" COL_SIZE="3">
   	  DELETE ACTPAY_ALLOWANCE_SPECS_TRNS T WHERE  T.STR_EMPLOYEE_NUMBER=? and T.NUM_ALLOWANCE_CODE=? and T.GNUM_HOSPITAL_CODE=?
        </QRY>
   </BLOCK>
</OPR>
</tns:Transaction>
