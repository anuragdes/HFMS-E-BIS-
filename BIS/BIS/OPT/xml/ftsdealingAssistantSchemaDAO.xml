<?xml version="1.0" encoding="UTF-8"?>
<tns:Transaction MODULE_NAME="FTS" PROCESS_NAME="Department Inbox" xmlns:tns="http://www.example.org/transactionSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.example.org/transactionSchema transactionSchema.xsd ">

<OPR ID="1" NAME="UPDATE" BLOCK_SIZE="2" QRY_TOT_SIZE="2" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="4">
	 UPDATE FTS_DEALING_ASST_SUPEV_IN_TRN SET NUM_FLAG_ID=0,GDT_LSTMOD_DATE=?,GNUM_LSTMOD_SEATID=?,DT_DATE_OF_PHYSICAL_RECEIPT=SYSDATE WHERE STR_DOCUMENT_CID=? and GNUM_HOSPITAL_CODE=? and GNUM_ISVALID=1 
	</QRY>
	</BLOCK>
	 <BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="11">
	 insert into FTS_DOCUMENT_HISTORY(STR_DOCUMENT_CID,STR_EXISTANCE_TABLE,STR_MARK_TO, STR_MARKED_DATE, STR_RECEIVED_BY, STR_RECEIVING_DATE,GNUM_HOSPITAL_CODE,GNUM_ISVALID,GDT_ENTRY_DATE,NUM_DISPATCH_NO,NUM_SL_NO) VALUES (?,?,?,?,?,?,?,?,?,?,?)
	</QRY>
    </BLOCK> 
  </OPR>
  
<OPR ID="2" NAME="INSERT" BLOCK_SIZE="2" QRY_TOT_SIZE="2" TRN_MGMT="Y">
    <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="1">
	 UPDATE FTS_DEPARTMENT_INBOX_TRN T SET T.GNUM_ISVALID=0 WHERE  T.STR_DOCUMENT_CID=? 
	 </QRY>
	</BLOCK>
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="13">
	 INSERT INTO FTS_DEPARTMENT_INBOX_TRN(STR_DOCUMENT_CID,STR_LETTER_NO_FILE_HEAD_NAME,STR_TYPE_OF_DOCUMENT,STR_ADDRESS_TO_DEPARTMENT,STR_CATEGORY,STR_SUBJECT,DT_DATE_OF_ELECTRONIC_RECEIPT,GDT_EFFECT_DATE,GDT_ENTRY_DATE,GNUM_ISVALID,GNUM_SEAT_ID,NUM_FLAG_ID,STR_RECEIVED_FROM_DEPARTMENT) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)
    </QRY>
	</BLOCK>
</OPR>
	
<OPR ID="3" NAME="INSERT" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="15">
	 INSERT INTO FTS_OUTBOX_OF_DEPARTMENT_TRN(STR_DISPATCH_NUMBER,STR_INTERNAL_SEND,STR_EXTERNAL_SEND,STR_SEND_TO,STR_TYPE_OF_DOCUMENT,STR_LETTER_NO_FILE_HEAD_NAME,STR_DOCUMENT_CID,STR_CATEGORY,STR_SUBJECT,DT_SENDING_DATE,GDT_EFFECT_DATE,GDT_ENTRY_DATE,GNUM_ISVALID,GNUM_SEAT_ID,STR_SENDING_TIME) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
    </QRY>
	</BLOCK>
  </OPR>
  
<OPR ID="4" NAME="INSERT" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="14">
	 INSERT INTO FTS_OUTBOX_OF_DEPARTMENT_TRN(STR_INTERNAL_SEND,STR_EXTERNAL_SEND,STR_SEND_TO,STR_TYPE_OF_DOCUMENT,STR_LETTER_NO_FILE_HEAD_NAME,STR_DOCUMENT_CID,STR_CATEGORY,STR_SUBJECT,DT_SENDING_DATE,GDT_EFFECT_DATE,GDT_ENTRY_DATE,GNUM_ISVALID,GNUM_SEAT_ID,STR_SENDING_TIME) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
    </QRY>
	</BLOCK>
  </OPR>
  
<OPR ID="5" NAME="INSERT" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="13">
	 INSERT INTO FTS_DEALING_ASST_SUPEV_IN_TRN(STR_TYPE_OF_DOCUMENT,STR_LETTER_NO_FILE_HEAD_NAME,STR_DOCUMENT_CID,STR_CATEGORY,STR_SUBJECT,DT_DATE_OF_ELECTRONIC_RECEIPT,GDT_EFFECT_DATE,GDT_ENTRY_DATE,GNUM_ISVALID,GNUM_SEAT_ID,STR_RECEIVED_FROM,STR_PRIORITY,NUM_FLAG_ID) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?)
    </QRY>
	</BLOCK>
 </OPR>
 
<OPR ID="6" NAME="INSERT" BLOCK_SIZE="3" QRY_TOT_SIZE="3" TRN_MGMT="N">
     <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="1">
	 UPDATE FTS_DEALING_ASST_SUPEV_IN_TRN T SET T.GNUM_ISVALID=0 WHERE  T.STR_DOCUMENT_CID=? 
	 </QRY>
	</BLOCK>
	 
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="14">
	 insert into fts_outbox_of_individual_trn(str_letter_no_file_head_name,str_document_cid,str_category,str_priority,str_subject,str_received_from,dt_date_of_electronic_receipt,gnum_isvalid,gdt_effect_date,gnum_seat_id,gdt_entry_date,num_flag_id,str_address_to_name,str_address_to_designation) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
    </QRY>
	</BLOCK>
	
	<BLOCK ID="3" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="14">
	 INSERT INTO fts_dealing_asst_supev_in_trn(STR_TYPE_OF_DOCUMENT,STR_LETTER_NO_FILE_HEAD_NAME,STR_DOCUMENT_CID,STR_CATEGORY,STR_SUBJECT,STR_PRIORITY,DT_DATE_OF_ELECTRONIC_RECEIPT,GNUM_ISVALID,GDT_EFFECT_DATE,GNUM_SEAT_ID,GDT_ENTRY_DATE,NUM_FLAG_ID,str_address_to_name,str_address_to_designation) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
    </QRY>
	</BLOCK>
 </OPR>
 
<OPR ID="7" NAME="INSERT" BLOCK_SIZE="3" QRY_TOT_SIZE="3" TRN_MGMT="N">
     <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="1">
	 UPDATE FTS_DEALING_ASST_SUPEV_IN_TRN T SET T.GNUM_ISVALID=0 WHERE  T.STR_DOCUMENT_CID=? 
	 </QRY>
	</BLOCK>
	 
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="14">
	 insert into fts_outbox_of_individual_trn(str_letter_no_file_head_name,str_document_cid,str_category,str_subject,str_received_from,dt_date_of_electronic_receipt,gnum_isvalid,gdt_effect_date,gnum_seat_id,gdt_entry_date,num_flag_id,str_address_to_department,str_address_to_name,str_address_to_designation) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
    </QRY>
	</BLOCK>
	
    <BLOCK ID="3" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="18">
	 INSERT INTO fts_department_inbox_trn(NUM_TYPE_OF_DOCUMENT_ID,STR_TYPE_OF_DOCUMENT,STR_LETTER_NO_FILE_HEAD_NAME,STR_DOCUMENT_CID,str_received_from_department,STR_CATEGORY,STR_SUBJECT,STR_ADDRESS_TO_DEPARTMENT,STR_ADDRESS_TO_NAME,STR_ADDRESS_TO_DESIGNATION,NUM_FLAG_ID,GDT_EFFECT_DATE,GDT_ENTRY_DATE,GNUM_ISVALID,GNUM_SEAT_ID,dt_date_of_electronic_receipt,str_in_own_department,num_own_department_id) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
	</QRY>
    </BLOCK>
 </OPR>

 </tns:Transaction>