<?xml version="1.0" encoding="UTF-8"?>


<tns:Transaction MODULE_NAME="PR" PROCESS_NAME="GC MIN OF MEETING TRANSACTIONS" xmlns:tns="http://www.example.org/transactionSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.example.org/transactionSchema transactionSchema.xsd ">
<OPR ID="1" NAME="INSERT" BLOCK_SIZE="2" QRY_TOT_SIZE="2" TRN_MGMT="Y">
  <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="13">
 	 INSERT INTO PISPR_GC_MM_TRN (GNUM_HOSPITAL_CODE,NUM_COMM_ID, STR_MEETING_ID, DT_MEETING, DT_MIN_PREP_ONDATE, DT_CIRCULATE_ONDATE, STR_VIA_LETTER_NO, STR_MIN_FILE_NAME, STR_STATUS, GDT_EFFECT_DATE, GDT_ENTRY_DATE, GNUM_ISVALID, GNUM_SEAT_ID) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
	</QRY>
   </BLOCK>
<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="M" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="17"> 	
	 INSERT INTO PISPR_GC_MM_DTL (GNUM_HOSPITAL_CODE,STR_MEETING_ID,DT_MEETING, STR_APPL_REQ_ID, STR_FILE_NAME, STR_FILE_NO, DT_DISC_ONDATE, STR_DECI_ACT_DECIDED, STR_ACT_TKN_AUTO, STR_ACT_DEPT, DT_ACT_DECIDED_ON, STR_REMARKS, STR_STATUS, GDT_EFFECT_DATE, GDT_ENTRY_DATE, GNUM_ISVALID, GNUM_SEAT_ID) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
	</QRY>
   </BLOCK>
</OPR>


<OPR ID="2" NAME="UPDATE" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="Y">
   <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="2">
	 DELETE FROM PISPR_GC_MM_DTL A WHERE A.STR_MEETING_ID=? AND A.GNUM_HOSPITAL_CODE=?
	</QRY>
   </BLOCK>
</OPR>

<OPR ID="3" NAME="UPDATE" BLOCK_SIZE="2" QRY_TOT_SIZE="2" TRN_MGMT="Y">
  <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="8">
	 UPDATE PISPR_GC_MM_TRN T SET T.DT_MIN_PREP_ONDATE=?, T.DT_CIRCULATE_ONDATE=?, T.STR_VIA_LETTER_NO=?, T.STR_MIN_FILE_NAME=?, T.GDT_LSTMOD_DATE=?,T.GNUM_LSTMOD_SEATID=? WHERE T.STR_MEETING_ID=? AND T.GNUM_ISVALID=1 AND T.GNUM_HOSPITAL_CODE=?
	</QRY>
   </BLOCK>
<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="M" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="19">
	 INSERT INTO PISPR_GC_MM_DTL ( GNUM_HOSPITAL_CODE,STR_MEETING_ID, DT_MEETING, STR_APPL_REQ_ID, STR_FILE_NAME, STR_FILE_NO, DT_DISC_ONDATE, STR_DECI_ACT_DECIDED, STR_ACT_TKN_AUTO, STR_ACT_DEPT, DT_ACT_DECIDED_ON, STR_REMARKS, STR_STATUS, GDT_EFFECT_DATE, GDT_ENTRY_DATE, GNUM_ISVALID, GNUM_SEAT_ID, GDT_LSTMOD_DATE , GNUM_LSTMOD_SEATID) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
	</QRY>
   </BLOCK>
</OPR>

<OPR ID="4" NAME="DELETE" BLOCK_SIZE="2" QRY_TOT_SIZE="2" TRN_MGMT="Y">
   <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="2">
	 UPDATE PISPR_GC_MM_TRN SET GNUM_ISVALID=0 WHERE STR_MEETING_ID=? AND GNUM_ISVALID=1 AND GNUM_HOSPITAL_CODE=?
	</QRY>
   </BLOCK>
   
   <BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="2">
	 UPDATE PISPR_GC_MM_DTL SET GNUM_ISVALID=0 WHERE STR_MEETING_ID=? AND GNUM_ISVALID=1 AND GNUM_HOSPITAL_CODE=?
	</QRY>
   </BLOCK>
  
</OPR>

</tns:Transaction>