<?xml version="1.0" encoding="UTF-8"?>

<tns:Transaction MODULE_NAME="WelfareFund" PROCESS_NAME="Stipend" xmlns:tns="http://www.example.org/transactionSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.example.org/transactionSchema transactionSchema.xsd ">

<OPR ID="1" NAME="INSERT" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="Y">
  <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="22">
	 INSERT INTO PISWFD_STIPEND_TRN (STP_ID, STR_EMPLOYEE_CODE, DT_DIED_ON, DEPENDENT_NAME, COURSE_NAME, COURSE_FROM, COURSE_TO, AMOUNT, SANCTIONED_DATE, TYPE, INSTALLMENT_AMOUNT, DT_FIRST_INSTALLMENT, DT_LAST_INSTALLMENT, AMOUNT_GIVEN, GDT_LSTMOD_DATE,GNUM_LSTMOD_SEATID, GDT_EFFECT_DATE, GDT_ENTRY_DATE,GNUM_ISVALID, GNUM_SEAT_ID, GNUM_HOSPITAL_CODE,NUM_DEPENDENT_N0) VALUES ( ?,?,? ,? ,?, ?, ?,?,? , ?,?,? ,? ,? ,? , ?,?, ?,? ,?, ?, ?)
    </QRY>
   </BLOCK>
</OPR>

<OPR ID="2" NAME="MODIFY" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="Y">
    <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="1" MANDATORY="Y">
    <QRY ID="1" COL_SIZE="14">
     update piswfd_stipend_trn a set a.COURSE_NAME=?, a.COURSE_FROM=?, a.COURSE_TO=?, a.AMOUNT=?, a.SANCTIONED_DATE=?, a.TYPE=?, a.INSTALLMENT_AMOUNT=?, a.DT_FIRST_INSTALLMENT=?,a.DT_LAST_INSTALLMENT=?, a.AMOUNT_GIVEN=?, a.GDT_LSTMOD_DATE=?,a.GNUM_LSTMOD_SEATID=?,GNUM_ISVALID=? where a.STP_ID=?
  </QRY>
    </BLOCK>
</OPR>

<OPR ID="3" NAME="DELETE" BLOCK_SIZE="2" QRY_TOT_SIZE="2" TRN_MGMT="Y">
  <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
    <QRY ID="1" COL_SIZE="2">
    UPDATE piswfd_stipend_trn a SET a.GNUM_ISVALID=0 WHERE a.STP_ID=? AND A.GNUM_ISVALID=1 AND A.GNUM_HOSPITAL_CODE=?
  </QRY>
  </BLOCK>

  <BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
    <QRY ID="1" COL_SIZE="2">
    UPDATE PISWFD_STIPEND_DTL a SET a.GNUM_ISVALID=0 WHERE a.STP_ID=? AND A.GNUM_ISVALID=1 AND A.GNUM_HOSPITAL_CODE=?
  </QRY>
  </BLOCK>
 
</OPR>

<OPR ID="4" NAME="INSERT" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="Y">
   <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="13">
	 INSERT INTO PISWFD_STIPEND_DTL (STP_DTL_ID, STP_ID, FRM_DATE, TO_DATE, AMOUNT, GDT_LSTMOD_DATE, GNUM_LSTMOD_SEATID, GDT_EFFECT_DATE, GDT_ENTRY_DATE, GNUM_ISVALID, GNUM_SEAT_ID, GNUM_HOSPITAL_CODE, STR_STATUS) VALUES (? ,? ,? ,?,? ,? ,?,? ,? ,?,? , ?,?) 
	</QRY>
   </BLOCK>
</OPR>

<OPR ID="5" NAME="MODIFY" BLOCK_SIZE="2" QRY_TOT_SIZE="2" TRN_MGMT="Y">
    <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="M" MANDATORY="Y">
    <QRY ID="1" COL_SIZE="2">
     DELETE FROM PISWFD_STIPEND_DTL A WHERE STP_ID=? AND GNUM_HOSPITAL_CODE=?
      </QRY>
    </BLOCK>
    <BLOCK ID="2" QRY_SIZE="1" ROWS_INS="M" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="13">
	 INSERT INTO PISWFD_STIPEND_DTL (STP_DTL_ID, STP_ID, FRM_DATE, TO_DATE, AMOUNT, STR_STATUS, GDT_LSTMOD_DATE, GNUM_LSTMOD_SEATID, GDT_EFFECT_DATE, GDT_ENTRY_DATE, GNUM_ISVALID, GNUM_SEAT_ID, GNUM_HOSPITAL_CODE) VALUES (? ,? ,? ,?,? ,? ,?,? ,? ,?,? , ?,?) 
	</QRY>
   </BLOCK>
</OPR>


</tns:Transaction>
