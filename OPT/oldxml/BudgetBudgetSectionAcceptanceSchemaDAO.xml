<?xml version="1.0" encoding="UTF-8"?>
<tns:Transaction MODULE_NAME="BUDGET" PROCESS_NAME="CompSecAcceptTransaction" xmlns:tns="http://www.example.org/transactionSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.example.org/transactionSchema transactionSchema.xsd ">
  <OPR ID="1" NAME="INSERT" BLOCK_SIZE="3" QRY_TOT_SIZE="3" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="12">
	 UPDATE ACTBUD_DEM_ACCEPT_TRNS T SET T.STR_BUDGET_SECTION_STATUS=?,T.STR_DEMAND_STATUS_AT_BUDSEC=?,T.STR_BUDGET_SECTION_REMARKS=?,T.GDT_BUD_SECTION_EFFECT_DATE=?,T.GDT_BUD_SECTION_ENTRY_DATE=?,T.GNUM_BUD_SECTION_ISVALID=?,T.GNUM_BUD_SECTION_SEAT_ID=? WHERE T.STR_DEMAND_NO=? AND T.DT_DEMAND_DATE=? AND T.NUM_DEPT_CODE=? AND T.STR_HOD_CODE=? AND T.GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="6">
	 UPDATE ACTBUD_DEM_BERE_TRNS T SET T.STR_DEMAND_STATUS=? WHERE T.STR_DEMAND_NO=? AND T.DT_DEMAND_DATE=? AND T.NUM_DEPT_CODE=? AND  T.STR_HOD_CODE=? AND T.GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	<BLOCK ID="3" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="2">
	 update actbud_dem_bere_dtl m set m.NUM_BUD_ACTUAL_EXP_PREV_BYR=m.NUM_COMP_ACTUAL_EXP_PREV_BYR,m.NUM_BUD_BE_CURRENT_BYR=m.NUM_COMP_BE_CURRENT_BYR,m.NUM_BUD_RE_CURRENT_BYR=m.NUM_COMP_RE_CURRENT_BYR,m.NUM_BUD_ANTICIP_NEXT_BYR=m.NUM_COMP_ANTICIP_NEXT_BYR,m.NUM_BACT_EXP_UPTO_TDT=m.NUM_CACT_EXP_UPTO_TDT,m.NUM_BANTI_CURR_BYR=m.NUM_CANTI_CURR_BYR,m.NUM_BUD_BE_NEXT_BYR=m.NUM_CBE_NEXT_BYR where m.str_demand_no=? AND m.GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	
</OPR>

<OPR ID="2" NAME="INSERT" BLOCK_SIZE="4" QRY_TOT_SIZE="4" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="12">
	 UPDATE ACTBUD_DEM_ACCEPT_TRNS T SET T.STR_BUDGET_SECTION_STATUS=?,T.STR_DEMAND_STATUS_AT_BUDSEC=?,T.STR_BUDGET_SECTION_REMARKS=?,T.GDT_BUD_SECTION_EFFECT_DATE=?,T.GDT_BUD_SECTION_ENTRY_DATE=?,T.GNUM_BUD_SECTION_ISVALID=?,T.GNUM_BUD_SECTION_SEAT_ID=? WHERE T.STR_DEMAND_NO=? AND T.DT_DEMAND_DATE=? AND T.NUM_DEPT_CODE=? AND T.STR_HOD_CODE=? AND T.GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="2">
	 INSERT INTO ACTBUD_ALOG_DEM_ACCEPT_TRNS(STR_DEMAND_NO,DT_DEMAND_DATE,NUM_DEPT_CODE,STR_HOD_CODE,STR_COMPILATION_STATUS,STR_DEMAND_STATUS_AT_COMP,STR_REMARKS,GDT_COMPIL_LSTMOD_DATE ,GNUM_COMPIL_LSTMOD_SEATID,GDT_COMPIL_EFFECT_DATE,GDT_COMPIL_ENTRY_DATE,GNUM_COMPIL_ISVALID ,GNUM_COMPIL_SEAT_ID ,STR_INTERNAL_AUDIT_STATUS,STR_DEMAND_STATUS_AT_INTAUD,STR_INT_AUDIT_REMARKS,GDT_INT_AUDIT_LSTMOD_DATE,GNUM_INT_AUDIT_LSTMOD_SEATID,GDT_INT_AUDIT_EFFECT_DATE,GDT_INT_AUDIT_ENTRY_DATE,GNUM_INT_AUDIT_ISVALID,GNUM_INT_AUDIT_SEAT_ID,STR_BUDGET_SECTION_STATUS,STR_DEMAND_STATUS_AT_BUDSEC,STR_BUDGET_SECTION_REMARKS,GDT_BUDGET_SECTION_LSTMOD_DATE,GNUM_BUD_SECTION_LSTMOD_SEATID,GDT_BUD_SECTION_EFFECT_DATE,GDT_BUD_SECTION_ENTRY_DATE,GNUM_BUD_SECTION_ISVALID,GNUM_BUD_SECTION_SEAT_ID,GNUM_HOSPITAL_CODE ) (SELECT T.STR_DEMAND_NO,T.DT_DEMAND_DATE,T.NUM_DEPT_CODE,T.STR_HOD_CODE,T.STR_COMPILATION_STATUS,T.STR_DEMAND_STATUS_AT_COMP,T.STR_REMARKS,T.GDT_COMPIL_LSTMOD_DATE ,T.GNUM_COMPIL_LSTMOD_SEATID,T.GDT_COMPIL_EFFECT_DATE,T.GDT_COMPIL_ENTRY_DATE,T.GNUM_COMPIL_ISVALID ,T.GNUM_COMPIL_SEAT_ID ,T.STR_INTERNAL_AUDIT_STATUS,T.STR_DEMAND_STATUS_AT_INTAUD,T.STR_INT_AUDIT_REMARKS,T.GDT_INT_AUDIT_LSTMOD_DATE,T.GNUM_INT_AUDIT_LSTMOD_SEATID,T.GDT_INT_AUDIT_EFFECT_DATE,T.GDT_INT_AUDIT_ENTRY_DATE,T.GNUM_INT_AUDIT_ISVALID,T.GNUM_INT_AUDIT_SEAT_ID,T.STR_BUDGET_SECTION_STATUS,T.STR_DEMAND_STATUS_AT_BUDSEC,T.STR_BUDGET_SECTION_REMARKS,T.GDT_BUDGET_SECTION_LSTMOD_DATE,T.GNUM_BUD_SECTION_LSTMOD_SEATID,T.GDT_BUD_SECTION_EFFECT_DATE,T.GDT_BUD_SECTION_ENTRY_DATE,T.GNUM_BUD_SECTION_ISVALID,T.GNUM_BUD_SECTION_SEAT_ID,T.GNUM_HOSPITAL_CODE FROM ACTBUD_DEM_ACCEPT_TRNS T WHERE T.STR_DEMAND_NO=? AND T.GNUM_HOSPITAL_CODE=?)
	</QRY>
	</BLOCK>
	<BLOCK ID="3" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="2">
	 DELETE FROM  ACTBUD_DEM_ACCEPT_TRNS B WHERE B.STR_DEMAND_NO=? and B.GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	<BLOCK ID="4" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="6">
	 UPDATE ACTBUD_DEM_BERE_TRNS T SET T.STR_DEMAND_STATUS=? WHERE T.STR_DEMAND_NO=? AND T.DT_DEMAND_DATE=? AND T.NUM_DEPT_CODE=? AND  T.STR_HOD_CODE=? AND T.GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	
</OPR>
<OPR ID="3" NAME="UPDATE" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="M" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="14">
	 update ACTBUD_DEM_BERE_DTL t set t.NUM_BUD_ACTUAL_EXP_PREV_BYR=?,t.NUM_BUD_BE_CURRENT_BYR=?,t.NUM_BACT_EXP_UPTO_TDT=?,t.NUM_BANTI_CURR_BYR=?,t.NUM_BUD_RE_CURRENT_BYR=?,t.NUM_BUD_BE_NEXT_BYR=? where t.str_demand_no=? and t.dt_demand_date=? and t.num_dept_code=? and t.str_major_head_code=? and t.str_sub_major_head_code=? and t.str_minor_head_code=? and t.str_sub_minor_head_code=? and t.GNUM_HOSPITAL_CODE=?	
	 </QRY>
	</BLOCK>
</OPR>
<OPR ID="4" NAME="UPDATE" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="M" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="11">
	update ACTBUD_DEM_BERE_DTL t set t.NUM_BUD_ACTUAL_EXP_PREV_BYR=?,t.NUM_BUD_BE_CURRENT_BYR=?,t.NUM_BACT_EXP_UPTO_TDT=?,t.NUM_BANTI_CURR_BYR=?,t.NUM_BUD_RE_CURRENT_BYR=?,t.NUM_BUD_BE_NEXT_BYR=? where t.str_demand_no=? and t.dt_demand_date=? and t.num_dept_code=? and t.str_major_head_code=? and t.str_sub_major_head_code='-1' and t.str_minor_head_code='-1' and t.str_sub_minor_head_code='-1' and t.GNUM_HOSPITAL_CODE=?	
	 </QRY>
	</BLOCK>
</OPR>
<OPR ID="5" NAME="UPDATE" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="M" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="12">
	update ACTBUD_DEM_BERE_DTL t set t.NUM_BUD_ACTUAL_EXP_PREV_BYR=?,t.NUM_BUD_BE_CURRENT_BYR=?,t.NUM_BACT_EXP_UPTO_TDT=?,t.NUM_BANTI_CURR_BYR=?,t.NUM_BUD_RE_CURRENT_BYR=?,t.NUM_BUD_BE_NEXT_BYR=? where t.str_demand_no=? and t.dt_demand_date=? and t.num_dept_code=? and t.str_major_head_code=? and t.str_sub_major_head_code=? and t.str_minor_head_code='-1'  and t.str_sub_minor_head_code='-1' and t.GNUM_HOSPITAL_CODE=?	
	 </QRY>
	</BLOCK>
</OPR>
<OPR ID="6" NAME="UPDATE" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="M" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="13">
	 update ACTBUD_DEM_BERE_DTL t set t.NUM_BUD_ACTUAL_EXP_PREV_BYR=?,t.NUM_BUD_BE_CURRENT_BYR=?,t.NUM_BACT_EXP_UPTO_TDT=?,t.NUM_BANTI_CURR_BYR=?,t.NUM_BUD_RE_CURRENT_BYR=?,t.NUM_BUD_BE_NEXT_BYR=? where t.str_demand_no=? and t.dt_demand_date=? and t.num_dept_code=? and t.str_major_head_code=? and t.str_sub_major_head_code=? and t.str_minor_head_code=? and t.str_sub_minor_head_code='-1' and t.GNUM_HOSPITAL_CODE=?
	 </QRY>
	</BLOCK>
</OPR>
</tns:Transaction>