<?xml version="1.0" encoding="UTF-8"?>
<tns:Transaction MODULE_NAME="CASH" PROCESS_NAME="Challan Form Preparation" xmlns:tns="http://www.example.org/transactionSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.example.org/transactionSchema transactionSchema.xsd ">
  
<OPR ID="1" NAME="INSERT" BLOCK_SIZE="4" QRY_TOT_SIZE="4" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
		<QRY ID="1" COL_SIZE="68">
			INSERT INTO ACTCAS_CASH_PAYMENT_VCH_TRN (STR_PAYMENT_FROM_ACCOUNT_CODE,STR_GRANT_TYPE_CODE,STR_PAYMENT_VOUCHER_NO,STR_MANUAL_VOUCHER_NO,DT_PAYMENT_DATE,STR_FINANCIAL_YEAR,STR_REQUEST_APPLICATION_NO,DT_BILL_REQUEST_DATE,NUM_DEPT_CODE,STR_HOD_CODE,STR_ORDER_NO,DT_ORDER_DATE,STR_LETTER_NO,DT_LETTER_DATE,STR_REF_NO,DT_REF_DATE,STR_BILL_NO,DT_BILL_DATE,STR_BILL_STATUS,STR_DOC_NAME,STR_PARTY_BILL_NO,NUM_PAYMENT_TYPE_ID,NUM_PAYMENT_TYPE_OTH_RMKS,NUM_BILL_AMOUNT,NUM_NO_OF_THOUSAND,NUM_NO_OF_FIVE_HUNDRED,NUM_NO_OF_HUNDRED,NUM_NO_OF_FIFTY,NUM_NO_OF_TWENTY,NUM_NO_OF_TEN,NUM_NO_OF_FIVE,NUM_NO_OF_TWO,NUM_NO_OF_ONE,NUM_COIN_AMOUNT,NUM_NO_OF_COIN,NUM_RETURNED_AMOUNT,STR_BILL_REMARKS,STR_UPLOAD_BILL_PATH,STR_PARTY_TYPE,STR_PAYMENT_REC_SELF_OTHER,STR_PARTY_PAID_TO_CODE,STR_PARTY_PAID_FOR_CODE,STR_SCRUTINY_CODE,DT_SCRUTINY_DATE,STR_APPROVAL_CODE,DT_APPROVAL_DATE,STR_BUD_TYPE_FROM_CODE,STR_SCHEME_FROM_CODE,STR_PROJECT_FROM_CODE,STR_MAJOR_HEAD_FROM_CODE,STR_SUBMAJOR_HEAD_FROM_CODE,STR_MINOR_HEAD_FROM_CODE,STR_SUB_MINOR_HEAD_FROM_CODE,STR_BUD_TYPE_TO_CODE,STR_SCHEME_TO_CODE,STR_PROJECT_TO_CODE,STR_MAJOR_HEAD_TO_CODE,STR_SUBMAJOR_HEAD_TO_CODE,STR_MINOR_HEAD_TO_CODE,STR_SUB_MINOR_HEAD_TO_CODE,STR_PAYMENT_STATUS,GNUM_ISVALID,GNUM_SEAT_ID,GDT_ENTRY_DATE,GDT_EFFECT_DATE,GDT_LSTMOD_DATE,GNUM_LSTMOD_SEATID,GNUM_HOSPITAL_CODE) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
		</QRY>
	</BLOCK>
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
		<QRY ID="1" COL_SIZE="15">
			INSERT INTO ACTCAS_CASH_PAYMENT_VCH_DTL (STR_CASH_PAYMENT_VCH_NO,NUM_PAYMENT_AGAINST_SEQ_NO,STR_CASH_RECEIPT_NO,DT_CASHREC_DATE,STR_CHALLAN_NO,NUM_CHALLAN_AMOUNT,NUM_CHALLAN_BAL_AMOUNT,NUM_CHALLAN_AMOUNT_GIVEN,GNUM_ISVALID,GNUM_SEAT_ID,GDT_ENTRY_DATE,GNUM_HOSPITAL_CODE,STR_PAYMENT_FROM,STR_CLASSIFICATION_CODE) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,(SELECT A.STR_CLASSIFICATION_CODE FROM ACTCAS_CHAL_TRN A WHERE A.STR_CHALLAN_NO=? and A.GNUM_HOSPITAL_CODE=?))
		</QRY>
	</BLOCK>
	<BLOCK ID="3" QRY_SIZE="1" ROWS_INS="M" MANDATORY="Y">
		<QRY ID="1" COL_SIZE="2">
			INSERT INTO ACTCAS_HEAD_POSTING_TRN (STR_DEPOSIT_INTO_CODE,STR_CASH_RECEIPT_NO,DT_CASH_REC_DATE,STR_CHALLAN_NO,DT_CHALLAN_DATE,STR_CLASSIFICATION_CODE,STR_CHALLAN_STATUS,GNUM_HOSPITAL_CODE)(Select T.STR_DEPOSIT_INTO_CODE,A.STR_CASH_RECEIPT_NO,A.DT_CASHREC_DATE,T.STR_CHALLAN_NO,T.DT_CHALLAN_DATE,T.STR_CLASSIFICATION_CODE,T.STR_CHALLAN_STATUS,T.GNUM_HOSPITAL_CODE from ACTCAS_CHAL_TRN T,ACTCAS_CHAL_ACC_TRN A where T.STR_CHALLAN_NO=A.STR_CHALLAN_NO and T.GNUM_HOSPITAL_CODE=A.GNUM_HOSPITAL_CODE and A.STR_CASH_RECEIPT_NO=? and T.STR_CHALLAN_STATUS=3 and T.GNUM_HOSPITAL_CODE=?)
		</QRY>
	</BLOCK>
	<BLOCK ID="4" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
		<QRY ID="1" COL_SIZE="26">
			UPDATE ACTCAS_HEAD_POSTING_TRN T SET T.STR_GRANT_TYPE_FROM_CODE=?,T.STR_BUD_TYPE_FROM_CODE=?,T.NUM_DEPT_FROM_CODE=?, T.STR_DIVISION_FROM_CODE=?,T.STR_SUB_DIVION_FROM_CODE=?,T.STR_SCHEME_FROM_CODE=?,T.STR_PROJECT_FROM_CODE=?, T.STR_MAJOR_HEAD_FROM_CODE=?,T.STR_SUBMAJOR_HEAD_FROM_CODE=?,T.STR_MINOR_HEAD_FROM_CODE=?,T.STR_SUB_MINOR_HEAD_FROM_CODE=?,T.STR_HEAD_POSTING_BY=(SELECT U.PSRSTR_EMP_NO FROM GBLT_USER_MST U WHERE U.GNUM_USERID=? AND U.GNUM_HOSPITAL_CODE=?),T.DT_HEAD_POSTING_DATE=?,T.STR_REMARKS=?,T.NUM_CHQ_CLR_FLAG=?,T.GDT_LSTMOD_DATE=?, T.GNUM_LSTMOD_SEATID=?,T.GDT_EFFECT_DATE=?,T.GDT_ENTRY_DATE=?,T.GNUM_ISVALID=?,T.GNUM_SEAT_ID=?,T.GNUM_HOSPITAL_CODE=?,T.STR_CHALLAN_STATUS=? WHERE T.STR_CASH_RECEIPT_NO=? and T.STR_CHALLAN_STATUS=3 and T.GNUM_HOSPITAL_CODE=?
		</QRY>
	</BLOCK>
</OPR>

</tns:Transaction>




