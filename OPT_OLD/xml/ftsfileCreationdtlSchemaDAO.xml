<?xml version="1.0" encoding="UTF-8"?>
<tns:Transaction MODULE_NAME="FTS" PROCESS_NAME="File_Creation_Dtl_Master" xmlns:tns="http://www.example.org/transactionSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.example.org/transactionSchema transactionSchema.xsd ">
<OPR ID="1" NAME="INSERT" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="18">
	 INSERT INTO FTS_FILE_CREATION_DTL_MST(NUM_HEAD_ID,NUM_SUB_HEAD_ID,NUM_SUBJECT_ID,NUM_FILE_CID,GNUM_SLNO,DT_CREATION_DATE,STR_FILE_OLD_FORMAT,STR_FILE_FORMAT_NAME,NUM_RUNNING_SEQUENCE,STR_SUBJECT_MATTER,STR_WETHER_UNDER_DHS,GDT_EFFECTIVE_FRM,GDT_EFFECTIVE_TO,GSTR_REMARKS,GDT_ENTRY_DATE,GNUM_ISVALID,GNUM_SEAT_ID,GNUM_HOSPITAL_CODE) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
	</QRY>
	</BLOCK>
  </OPR>
  
<OPR ID="2" NAME="UPDATE" BLOCK_SIZE="2" QRY_TOT_SIZE="2" TRN_MGMT="N">  
  <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="11">
	 UPDATE FTS_FILE_CREATION_DTL_MST SET STR_FILE_FORMAT_NAME=?,DT_CREATION_DATE=?,GDT_EFFECTIVE_FRM=?,GDT_EFFECTIVE_TO=?,GSTR_REMARKS=?,gnum_isvalid=?,gdt_lstmod_date=?,gnum_lstmod_seatid=?,NUM_ATTACHED_FILE=? WHERE NUM_FILE_CID=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="7">
	UPDATE FTS_FILE_SECTION_TRN SET str_lt_no_file_head_name=?,DT_CREATION_DATE=?,gnum_isvalid=?,gdt_lstmod_date=?,gnum_lstmod_seatid=? WHERE str_document_cid=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
</OPR>

<OPR ID="3" NAME="MODIFICATION" BLOCK_SIZE="2" QRY_TOT_SIZE="2" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="3">
	 UPDATE FTS_FILE_CREATION_DTL_MST T SET T.GDT_EFFECTIVE_TO=(TO_DATE(?,'DD-MON-YYYY')-1) WHERE  T.NUM_FILE_CID=? AND T.GNUM_SLNO=?
	 </QRY>
	</BLOCK>
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="20">
	 INSERT INTO FTS_FILE_CREATION_DTL_MST (NUM_HOSPITAL_ID,NUM_HEAD_ID,NUM_SUB_HEAD_ID,NUM_SUBJECT_ID,NUM_FILE_CID,GNUM_SLNO,DT_CREATION_DATE,STR_FILE_OLD_FORMAT,STR_FILE_FORMAT_NAME,NUM_RUNNING_SEQUENCE,STR_SUBJECT_MATTER,STR_WETHER_UNDER_DHS,GDT_EFFECTIVE_FRM,GDT_EFFECTIVE_TO,GNUM_ISVALID,GNUM_SEAT_ID,GDT_ENTRY_DATE,GDT_LSTMOD_DATE,GNUM_LSTMOD_SEATID,GSTR_REMARKS) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
	</QRY>
	</BLOCK>
</OPR>

<OPR ID="4" NAME="DELETE" BLOCK_SIZE="4" QRY_TOT_SIZE="4" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="4">
	 UPDATE FTS_FILE_CREATION_DTL_MST SET GNUM_ISVALID=0,gdt_lstmod_date=?,gnum_lstmod_seatid=? WHERE NUM_FILE_CID=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="4">
	 UPDATE FTS_FILE_SECTION_TRN SET GNUM_ISVALID=0,gdt_lstmod_date=?,gnum_lstmod_seatid=? WHERE STR_DOCUMENT_CID=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
		<BLOCK ID="3" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="4">
	 UPDATE FTS_ATTACHED_FILE_NO_DTL SET GNUM_ISVALID=0,gdt_lstmod_date=?,gnum_lstmod_seatid=? WHERE STR_FILE_CID=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
		<BLOCK ID="4" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="4">
	 UPDATE FTS_PART_FILE_DTL SET GNUM_ISVALID=0,gdt_lstmod_date=?,gnum_lstmod_seatid=? WHERE STR_PART_FILE_CID=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	
	</OPR>

<OPR ID="4A" NAME="DELETE" BLOCK_SIZE="4" QRY_TOT_SIZE="4" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="4">
	 UPDATE FTS_FILE_CREATION_DTL_MST SET GNUM_ISVALID=0,gdt_lstmod_date=?,gnum_lstmod_seatid=? WHERE NUM_FILE_CID=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="4">
	 UPDATE FTS_FILE_SECTION_TRN SET GNUM_ISVALID=0,gdt_lstmod_date=?,gnum_lstmod_seatid=? WHERE STR_DOCUMENT_CID=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
		<BLOCK ID="3" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="4">
	 UPDATE FTS_ATTACHED_FILE_NO_DTL SET GNUM_ISVALID=0,gdt_lstmod_date=?,gnum_lstmod_seatid=? WHERE STR_FILE_CID=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
		<BLOCK ID="4" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="4">
	 UPDATE FTS_PART_FILE_DTL SET GNUM_ISVALID=0,gdt_lstmod_date=?,gnum_lstmod_seatid=? WHERE STR_MAIN_FILE_CID=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	
	</OPR>

<OPR ID="5" NAME="INSERT" BLOCK_SIZE="2" QRY_TOT_SIZE="2" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="11">
	 INSERT INTO FTS_FILE_CREATION_DTL_MST(NUM_FILE_CID,GNUM_SLNO,STR_FILE_OLD_FORMAT,STR_FILE_FORMAT_NAME,GDT_EFFECTIVE_FRM,GDT_EFFECTIVE_TO,GSTR_REMARKS,GDT_ENTRY_DATE,GNUM_ISVALID,GNUM_SEAT_ID,GNUM_HOSPITAL_CODE) VALUES (?,?,?,?,?,?,?,?,?,?,?)
	</QRY>
	</BLOCK>
	
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="10">
	 INSERT INTO FTS_FILE_SECTION_TRN(STR_LT_NO_FILE_HEAD_NAME,STR_DOCUMENT_CID,STR_SUBJECT,DT_CREATION_DATE,STR_STATUS,GNUM_ISVALID,GDT_EFFECT_DATE,GNUM_SEAT_ID,GDT_ENTRY_DATE,GNUM_HOSPITAL_CODE) VALUES (?,?,?,?,?,?,?,?,?,?)
	</QRY>
	</BLOCK>
</OPR> 
  
<OPR ID="6" NAME="MODIFICATION" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="N">
  <BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="20">
     INSERT INTO FTS_FILE_CREATION_DTL_MST (NUM_HOSPITAL_ID,NUM_HEAD_ID,NUM_SUB_HEAD_ID,NUM_SUBJECT_ID,NUM_FILE_CID,GNUM_SLNO,DT_CREATION_DATE,STR_FILE_OLD_FORMAT,STR_FILE_FORMAT_NAME,NUM_RUNNING_SEQUENCE,STR_SUBJECT_MATTER,STR_WETHER_UNDER_DHS,GDT_EFFECTIVE_FRM,GDT_EFFECTIVE_TO,GNUM_ISVALID,GNUM_SEAT_ID,GDT_ENTRY_DATE,GDT_LSTMOD_DATE,GNUM_LSTMOD_SEATID,GSTR_REMARKS) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
	</QRY>
   </BLOCK>
</OPR>
 
<OPR ID="7" NAME="UPDATE" BLOCK_SIZE="2" QRY_TOT_SIZE="2" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="10">
	 UPDATE FTS_FILE_CREATION_DTL_MST SET STR_SUBJECT_MATTER=?,DT_CREATION_DATE=?,GDT_EFFECTIVE_FRM=?,GDT_EFFECTIVE_TO=?,GSTR_REMARKS=?,gnum_isvalid=?,gdt_lstmod_date=?,gnum_lstmod_seatid=? WHERE NUM_FILE_CID=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="7">
	UPDATE FTS_FILE_SECTION_TRN SET str_lt_no_file_head_name=?,DT_CREATION_DATE=?,gnum_isvalid=?,gdt_lstmod_date=?,gnum_lstmod_seatid=? WHERE str_document_cid=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	
  </OPR>
  	  
<OPR ID="8" NAME="INSERT" BLOCK_SIZE="4" QRY_TOT_SIZE="4" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="20">
	 INSERT INTO FTS_FILE_CREATION_DTL_MST(NUM_HEAD_ID,NUM_SUB_HEAD_ID,NUM_SUBJECT_ID,NUM_FILE_CID,GNUM_SLNO,DT_CREATION_DATE,STR_FILE_OLD_FORMAT,STR_FILE_FORMAT_NAME,NUM_RUNNING_SEQUENCE,STR_SUBJECT_MATTER,STR_WETHER_UNDER_DHS,GDT_EFFECTIVE_FRM,GDT_EFFECTIVE_TO,GSTR_REMARKS,GDT_ENTRY_DATE,GNUM_ISVALID,GNUM_SEAT_ID,GNUM_HOSPITAL_CODE,NUM_ATTACHED_FILE,STR_IS_PART_FILE) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
	</QRY>
	</BLOCK>
	
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="10">
	 INSERT INTO FTS_FILE_SECTION_TRN(STR_LT_NO_FILE_HEAD_NAME,STR_DOCUMENT_CID,NUM_SUBJECT_ID,DT_CREATION_DATE,STR_STATUS,GNUM_ISVALID,GDT_EFFECT_DATE,GNUM_SEAT_ID,GDT_ENTRY_DATE,GNUM_HOSPITAL_CODE) VALUES (?,?,?,?,?,?,?,?,?,?)
	</QRY>
	</BLOCK>

	<BLOCK ID="3" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="17">
	 insert into fts_dealing_asst_supev_in_trn(str_type_of_document,str_letter_no_file_head_name,str_document_cid,str_category,str_priority,NUM_SUBJECT_ID,RECEIVED_FROM_EMP_ID,dt_date_of_physical_receipt,gnum_isvalid,gdt_effect_date,gnum_seat_id,gdt_entry_date,num_flag_id,STR_MARK_TO_DEPARTMENT,STR_MARK_TO_EMPID,gnum_hospital_code,NUM_COUNTER) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
	 </QRY>
	</BLOCK>
	
	<BLOCK ID="4" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="11">
	 insert into FTS_DOCUMENT_HISTORY(STR_DOCUMENT_CID,STR_EXISTANCE_TABLE,STR_MARK_TO, STR_MARKED_DATE, STR_RECEIVED_BY, STR_RECEIVING_DATE,GNUM_HOSPITAL_CODE,GNUM_ISVALID,GDT_ENTRY_DATE,NUM_DISPATCH_NO,NUM_SL_NO) VALUES (?,?,?,?,?,?,?,?,?,?,?)	
	</QRY>
	</BLOCK>

	
  </OPR>

<OPR ID="8A" NAME="INSERT" BLOCK_SIZE="5" QRY_TOT_SIZE="5" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="20">
	 INSERT INTO FTS_FILE_CREATION_DTL_MST(NUM_HEAD_ID,NUM_SUB_HEAD_ID,NUM_SUBJECT_ID,NUM_FILE_CID,GNUM_SLNO,DT_CREATION_DATE,STR_FILE_OLD_FORMAT,STR_FILE_FORMAT_NAME,NUM_RUNNING_SEQUENCE,STR_SUBJECT_MATTER,STR_WETHER_UNDER_DHS,GDT_EFFECTIVE_FRM,GDT_EFFECTIVE_TO,GSTR_REMARKS,GDT_ENTRY_DATE,GNUM_ISVALID,GNUM_SEAT_ID,GNUM_HOSPITAL_CODE,NUM_ATTACHED_FILE,STR_IS_PART_FILE) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
	</QRY>
	</BLOCK>
	
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="10">
	 INSERT INTO FTS_FILE_SECTION_TRN(STR_LT_NO_FILE_HEAD_NAME,STR_DOCUMENT_CID,NUM_SUBJECT_ID,DT_CREATION_DATE,STR_STATUS,GNUM_ISVALID,GDT_EFFECT_DATE,GNUM_SEAT_ID,GDT_ENTRY_DATE,GNUM_HOSPITAL_CODE) VALUES (?,?,?,?,?,?,?,?,?,?)
	</QRY>
	</BLOCK>

	<BLOCK ID="3" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="17">
	 insert into fts_dealing_asst_supev_in_trn(str_type_of_document,str_letter_no_file_head_name,str_document_cid,str_category,str_priority,NUM_SUBJECT_ID,RECEIVED_FROM_EMP_ID,dt_date_of_physical_receipt,gnum_isvalid,gdt_effect_date,gnum_seat_id,gdt_entry_date,num_flag_id,STR_MARK_TO_DEPARTMENT,STR_MARK_TO_EMPID,gnum_hospital_code,NUM_COUNTER) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
	 </QRY>
	</BLOCK>
	
	<BLOCK ID="4" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="11">
	 insert into FTS_DOCUMENT_HISTORY(STR_DOCUMENT_CID,STR_EXISTANCE_TABLE,STR_MARK_TO, STR_MARKED_DATE, STR_RECEIVED_BY, STR_RECEIVING_DATE,GNUM_HOSPITAL_CODE,GNUM_ISVALID,GDT_ENTRY_DATE,NUM_DISPATCH_NO,NUM_SL_NO) VALUES (?,?,?,?,?,?,?,?,?,?,?)	
	</QRY>
	</BLOCK>
	
	<BLOCK ID="5" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="4">
	 insert into FTS_PART_FILE_DTL(STR_MAIN_FILE_CID,STR_PART_FILE_CID,GNUM_HOSPITAL_CODE,GNUM_ISVALID) VALUES (?,?,?,?)	
	</QRY>
	</BLOCK>
	
  </OPR>

<OPR ID="9" NAME="INSERT" BLOCK_SIZE="2" QRY_TOT_SIZE="2" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="18">
	 INSERT INTO FTS_FILE_CREATION_DTL_MST(NUM_HEAD_ID,NUM_SUB_HEAD_ID,NUM_SUBJECT_ID,NUM_FILE_CID,GNUM_SLNO,DT_CREATION_DATE,STR_FILE_OLD_FORMAT,STR_FILE_FORMAT_NAME,NUM_RUNNING_SEQUENCE,STR_SUBJECT_MATTER,STR_WETHER_UNDER_DHS,GDT_EFFECTIVE_FRM,GDT_EFFECTIVE_TO,GSTR_REMARKS,GDT_ENTRY_DATE,GNUM_ISVALID,GNUM_SEAT_ID,GNUM_HOSPITAL_CODE) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
	</QRY>
	</BLOCK>
	
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="10">
	 INSERT INTO FTS_FILE_SECTION_TRN(STR_LT_NO_FILE_HEAD_NAME,STR_DOCUMENT_CID,STR_SUBJECT,DT_CREATION_DATE,STR_STATUS,GNUM_ISVALID,GDT_EFFECT_DATE,GNUM_SEAT_ID,GDT_ENTRY_DATE,GNUM_HOSPITAL_CODE) VALUES (?,?,?,?,?,?,?,?,?,?)
	</QRY>
	</BLOCK>  
 </OPR> 

<OPR ID="11" NAME="UPDATE" BLOCK_SIZE="4" QRY_TOT_SIZE="4" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="2">
	 UPDATE  FTS_FILE_CREATION_DTL_MST SET GNUM_ISVALID=0 WHERE NUM_FILE_CID=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="3">
	 UPDATE FTS_FILE_SECTION_TRN SET GNUM_ISVALID=0,STR_STATUS=? WHERE STR_DOCUMENT_CID=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>

	<BLOCK ID="3" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="2">
	 UPDATE fts_dealing_asst_supev_in_trn SET gnum_isvalid=0 WHERE STR_DOCUMENT_CID=? AND GNUM_HOSPITAL_CODE=?
	 </QRY>
	</BLOCK>
	
	<BLOCK ID="4" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="4">
	 UPDATE FTS_DOCUMENT_HISTORY set STR_EXISTANCE_TABLE=?,STR_HISTORY=? where STR_DOCUMENT_CID=? and GNUM_HOSPITAL_CODE=? and GNUM_ISVALID=1
	</QRY>
	</BLOCK>
	<BLOCK ID="5" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="2">
	DELETE  FROM FTS_ATTACHED_FILE_NO_DTL  WHERE STR_MAIN_FILE_CID=? AND GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID=1
	</QRY>
	</BLOCK>
	<BLOCK ID="6" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="5">
	 insert into FTS_ATTACHED_FILE_NO_DTL(STR_MAIN_FILE_CID,STR_ATTACHED_FILE_CID,GDT_ENTRY_DATE,GNUM_HOSPITAL_CODE,GNUM_ISVALID) VALUES (?,?,?,?,?)	
	</QRY>
	</BLOCK>
	
  </OPR>

<OPR ID="11" NAME="UPDATE" BLOCK_SIZE="5" QRY_TOT_SIZE="5" TRN_MGMT="N">
	<BLOCK ID="1" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="2">
	 UPDATE  FTS_FILE_CREATION_DTL_MST SET GNUM_ISVALID=0 WHERE NUM_FILE_CID=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>
	
	<BLOCK ID="2" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="3">
	 UPDATE FTS_FILE_SECTION_TRN SET GNUM_ISVALID=0,STR_STATUS=? WHERE STR_DOCUMENT_CID=? AND GNUM_HOSPITAL_CODE=?
	</QRY>
	</BLOCK>

	<BLOCK ID="3" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="2">
	 UPDATE fts_dealing_asst_supev_in_trn SET gnum_isvalid=0 WHERE STR_DOCUMENT_CID=? AND GNUM_HOSPITAL_CODE=?
	 </QRY>
	</BLOCK>
	
	<BLOCK ID="4" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="4">
	 UPDATE FTS_DOCUMENT_HISTORY set STR_EXISTANCE_TABLE=?,STR_HISTORY=? where STR_DOCUMENT_CID=? and GNUM_HOSPITAL_CODE=? and GNUM_ISVALID=1
	</QRY>
	</BLOCK>
	
	<BLOCK ID="6" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	 <QRY ID="1" COL_SIZE="5">
	 insert into FTS_ATTACHED_FILE_NO_DTL(STR_MAIN_FILE_CID,STR_ATTACHED_FILE_CID,GDT_ENTRY_DATE,GNUM_HOSPITAL_CODE,GNUM_ISVALID) VALUES (?,?,?,?,?)	
	</QRY>
	</BLOCK>
	
  </OPR>

<OPR ID="11A" NAME="UPDATE" BLOCK_SIZE="1" QRY_TOT_SIZE="1" TRN_MGMT="N">
	
	<BLOCK ID="5" QRY_SIZE="1" ROWS_INS="S" MANDATORY="Y">
	<QRY ID="1" COL_SIZE="2">
	DELETE  FROM FTS_ATTACHED_FILE_NO_DTL  WHERE STR_MAIN_FILE_CID=? AND GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID=1
	</QRY>
	</BLOCK>
	
  </OPR>

  </tns:Transaction>